{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% block styles %}
    {{ super() }}

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"
          integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css"
          href="https://cdn.datatables.net/v/dt/dt-1.10.16/sl-1.2.5/datatables.min.css"/>

{% endblock %}

{% block title %}
    Profile
{% endblock %}

{% block content %}
    <div class="container signup-section">
        <div class="section-content bs-callout bs-callout-profile ">
            <form class="form-signin" method="POST" action="/user_data">
                <h2 class="form-signin-heading"> Profile</h2>
                {{ form.hidden_tag() }}
                {{ wtf.form_field(form.username) }}
                {{ wtf.form_field(form.email) }}
{#                {{ wtf.form_field(form.send_mail) }}#}
                <button class="btn btn-default btn-next" type="submit"><i class="fas fa-save"></i> Save</button>
            </form>
        </div>

    </div>
    <div class="container">

        <h3 class="form-signin-heading"><i class="fas fa-cogs"></i> Your models </h3>
        <table id="table_models" class="ui celled table" style="width:100%">
            <tfoot align="right">
            <tr>
                <td colspan="5">Clear all models <a data-id=all onclick="ConfirmModelDelete(this, true)">
                    <i class="fas fa-trash"></i></a>
                </td>
            </tr>
            </tfoot>
        </table>

        <h3 class="form-signin-heading"><i class="fas fa-coins"></i> Your datasets </h3>
        <table id="table_datasets" class="ui celled table" style="width:100%">
            <tfoot align="right">
            <tr>
                <td colspan="2">Clear all datasets <a data-id=all onclick="ConfirmDelete(this, true)">
                    <i class="fas fa-trash"></i></a>
                </td>
            </tr>
            </tfoot>
        </table>

    </div>
{% endblock %}


{% block scripts %}
    {{ super() }}
    <script type="text/javascript" src="https://cdn.datatables.net/v/dt/dt-1.10.16/sl-1.2.5/datatables.min.js"></script>
    <script src="{{ url_for('.static', filename='upload_user.js') }}"></script>
    <script type=text/javascript>
        var handle_key = {};
        handle_key.datasets = {{  datasets | tojson | safe }};
        handle_key.parameters = {{  parameters | tojson | safe }};
        window.appConfig = {
            handle_key: handle_key
        };
    </script>
{% endblock %}